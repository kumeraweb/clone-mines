---
import type { Executive } from '../data/data'
import { buildLinks } from '../data/data'

type Props = {
  executive: Executive
  backgroundVideo?: string // ej: "/videos/hero-ucm.mp4"
  backgroundImage?: string // fallback image
}

const { executive, backgroundVideo, backgroundImage } = Astro.props
const { wa, call } = buildLinks(executive)
---

<section
  class="relative w-full min-h-[85vh] md:min-h-[90vh] overflow-hidden bg-ucm-blue text-white md:grid md:grid-cols-2"
>
  <!-- BRAND LOGO (anchor, not header) -->
  <div class="relative md:absolute md:top-6 md:left-12 z-20 w-full md:w-auto px-5 pt-3 md:pt-0">
    <img
      src="/logo/faviconb.png"
      alt="Unidad Coronaria M贸vil UCM"
      class="h-16 md:h-22 w-auto"
      loading="eager"
    />
  </div>

  <!-- BACKGROUND VIDEO / IMAGE -->
  <div class="absolute inset-0 md:static md:col-span-1 md:h-full">
    {
      backgroundVideo ? (
        <video
          class="w-full h-full object-cover"
          autoplay
          muted
          loop
          playsinline
          poster={backgroundImage}
        >
          <source src={backgroundVideo} type="video/mp4" />
        </video>
      ) : (
        backgroundImage && (
          <img
            src={backgroundImage}
            alt="Unidad Coronaria M贸vil UCM"
            class="w-full h-full object-cover"
          />
        )
      )
    }
  </div>

  <!-- OVERLAY (solo mobile) -->
  <div class="absolute inset-0 bg-black/55 md:hidden"></div>

  <!-- CONTENT -->
  <div
    class="relative z-10 flex flex-col justify-center h-full px-5 pt-58 pb-10 space-y-6
              md:justify-center md:px-12 md:pt-0 md:pb-0 md:bg-ucm-blue"
  >
    <div
      class="space-y-3 bg-black/40 backdrop-blur-sm rounded-xl p-4
             md:bg-transparent md:backdrop-blur-0 md:p-0"
    >
      <p class="uppercase tracking-wide text-sm text-white/80">Unidad Coronaria M贸vil</p>

      <h1 class="text-3xl leading-tight font-bold">Contrataci贸n de Planes UCM</h1>

      <p class="text-base text-white/90">
        Atenci贸n m茅dica a domicilio 24/7. Af铆liate hoy con
        <strong> {executive.fullName}</strong>, ejecutiva autorizada.
      </p>

      <div class="space-y-3">
        <p class="text-sm font-semibold tracking-wide text-white/80">Contacto telef贸nico directo</p>

        <div
          class="flex items-center gap-3 rounded-lg border border-red-400/70
                 bg-white/95 px-4 py-3"
        >
          <span class="text-red-600 font-bold"></span>

          <a
            href={call}
            data-cta="llamar"
            class="text-red-600 font-semibold tracking-widest
                   hover:text-red-700"
          >
            {executive.phone}
          </a>
        </div>

        <p class="text-xs text-white/75">
          Tambi茅n puedes escribir a
          <a href={`mailto:${executive.email}`} class="underline underline-offset-2 ml-1">
            {executive.email}
          </a>
        </p>
      </div>
    </div>

    <!-- CTA PRIMARY -->
    <div class="space-y-3">
      <a
        href={wa}
        data-cta="whatsapp"
        class="block w-full text-center bg-green-600 hover:bg-green-700 transition py-4 rounded-lg font-semibold text-lg"
      >
        Atenci贸n por WhatsApp
      </a>

      <a
        href={call}
        data-cta="llamar"
        class="block w-full text-center bg-white hover:bg-gray-100 transition text-ucm-blue py-4 rounded-lg font-semibold text-lg"
      >
        Llamar para cotizar
      </a>
    </div>

    <!-- TRUST LINE -->
    <p class="text-xs text-white/80">
      P谩gina operada por ejecutiva autorizada UCM 路 No es canal de emergencias
    </p>
  </div>
</section>
